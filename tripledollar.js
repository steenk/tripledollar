/* tripledollar v.1.7.2, (c) 2020 Steen Klingberg. License MIT. */
!function(t){"use strict";var e=function(t){var e,n,r,o,i={svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xhtml:"http://www.w3.org/1999/xhtml"},a=function(e){function n(e){var n,r,o,s,c;for(r=0;r<e.length;r++)if((n=e[r])&&n.nodeType)this.appendChild(n);else if("object"==typeof n)if("[object Array]"===Object.prototype.toString.call(n))this.appendChild(a.apply(this,n));else for(s in n)n.hasOwnProperty(s)&&(/^data[A-Z]/.test(s)?(c=s.substr(4).toLowerCase(),this.setAttribute("data-"+c,n[s])):(o=s.split(":"),2===o.length&&Object.keys(i).indexOf(o[0])>-1?this.setAttributeNS(i[o[0]],o[1],n[s]):this.setAttribute(s,n[s])));else this.appendChild(t.document.createTextNode(String(n)))}function r(t){var e,n,o;for(e in t)if(t.hasOwnProperty(e))if("object"!=typeof t[e])this.style[e]=t[e];else for(n=this.querySelectorAll(e),o=0;o<n.length;o++)r.call(n[o],t[e]);return this}function o(t,e){return this[t]=e,this}function s(t){var e=Array.prototype.slice.call(arguments,1);return this[t].apply(this,e),this}function c(t,e){if(arguments.length>2){var n=Array.prototype.slice.call(arguments,2);this.addEventListener?this.addEventListener(t,function(t){var r=[t].concat(n);e.apply(this,r)},!1):this.attachEvent("on"+t,function(t){var r=[t].concat(n);e.apply(this,r)})}else this.addEventListener?this.addEventListener(t,e,!1):this.attachEvent("on"+t,e);return this}function l(){if("[object Array]"===Object.prototype.toString.call(arguments[0])&&"[object Array]"===Object.prototype.toString.call(arguments[0][0]))for(var t of arguments[0])this.appendChild(a.apply(this,t));else n.call(this,Array.prototype.slice.call(arguments));return this}var u,p,d,f,h=Array.prototype.slice.call(arguments,1),y=[],m=/^[A-Za-z][A-Za-z0-9-_\.:#]*$/;if("string"==typeof e){if(e&&!m.test(e))return void console.log('$$$: not a valid ident parameter "'+e+'".');for(u=e.split(/([\.#])/),d=0;d<u.length;d++)0===d?(f=u[0].split(":"),p=i[f[0]]?t.document.createElementNS(i[f[0]],f[1]||f[0]):t.document.createElement(f[1]||f[0])):p&&"."===u[d-1]?y.push(u[d]):"#"===u[d-1]&&p.setAttribute("id",u[d]);return y.length>0&&p.setAttribute("class",y.join(" ")),n.call(p,h),p.css=r,p.set=o,p.fun=s,p.evt=c,p.ins=l,p.query=p.querySelector,p.queryAll=p.querySelectorAll,p.prototype=p,p}if("[object Array]"===Object.prototype.toString.call(e))return a.apply(this,e);if(e instanceof t.HTMLElement||e instanceof t.SVGElement)return e.evt=c,e.set=o,e.fun=s,e.ins=l,e.css=r,e.query=e.querySelector,e.queryAll=e.querySelectorAll,e.prototype=e,e};return a.version="1.7.2",a.structify=function(t,e){var n,r=null;return 1===t.nodeType&&(n=function(t){var r,o,i,a,s,c=[],l=/id|class|contenteditable/,u=t.localName,p=String(t.getAttribute("class")||"").replace(/\s/g,".");if(p&&(u+="."+p),t.id&&(u+="#"+t.id),c.push(u),t.hasAttributes()){for(o=t.attributes,r={},s=0;s<o.length;s++)l.test(o[s].name)||(r[o[s].name]=o[s].value);Object.keys(r).length>0&&c.push(r)}for(t.normalize(),i=t.childNodes,s=0;s<i.length;s++)3===i[s].nodeType?(a=e?i[s].data.replace(/\s\s*/," ").trim():i[s].data,a.length>0&&c.push(a)):1===i[s].nodeType&&c.push(n(i[s]));return c},r=n(t)),r},a.onReady=function(n){"complete"===t.document.readyState||"interactive"===t.document.readyState?e(n):t.document.addEventListener?t.document.addEventListener("DOMContentLoaded",n,!1):t.document.attachEvent("onreadystatechange",n)},"function"==typeof setImmediate?e=setImmediate:t.setImmediate?e=t.setImmediate:(r=[],o="doNext"+(67108864*Math.random()|0).toString(16),n=function(e){var n,i;e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(o)&&(i=r.shift(),i.length>0&&(n=i[0].apply(void 0,i.splice(1),!0),r[0]&&1===r[0].length&&r[0].push(n)))},t.postMessage?t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("message",n):t.postMessage=function(e){t.setTimeout(function(){n({source:t,data:e})},0)},e=function(){var e=Array.prototype.slice.call(arguments);"function"==typeof e[0]&&(r.push(e),t.postMessage(o,"*"))}),a.setImmediate=e,a.appendToDoc=function n(){function r(e){var n;a.onReady(function(){for(o=0;o<i.length;o++)"[object Array]"===Object.prototype.toString.call(i[o])?(n=a.apply(this,i[o]))&&t.document.body.appendChild(n):i[o]instanceof t.Element?t.document.body.appendChild(i[o]):"function"==typeof i[o]&&i[o]();e()})}var o,i=Array.prototype.slice.call(arguments),s=[];return n.then=function(t){if(n===t)throw new TypeError("Circular reference.");return"function"==typeof t?s.push(t):console.log('$$$: Only functions can be passed to "then()"!'),n},n.catch=function(t){return console.log("$$$: Error occured.",t),n},"undefined"!=typeof Promise?new Promise(function(t,e){try{r(t)}catch(t){e(t)}}):(r(function(){var t;s.forEach(function(n){e(function(){t&&t.then?t.then(function(t){n(t)}):t=n(t)})})}),n)},a.query=function(e){return t.document.querySelector(e)},a.queryAll=function(e){return t.document.querySelectorAll(e)},a.destroy=function t(e){if(e)for(;e.hasChildNodes();)t(e.firstChild),e.removeChild(e.firstChild)},a.namespace=function(t,e){return e&&(i[t]=e),i[t]},a};e.version="1.7.2",t&&"function"==typeof t.define?t.define("tripledollar",function(){return e(t)}):"object"==typeof module?module.exports=e(t):t.$$$=e(t)}(window);