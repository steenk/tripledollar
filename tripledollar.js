/* tripledollar v.0.6.3, (c) 2013 Steen Klingberg. License MIT. */
(function(){var e="0.6.3";var t=function(){var e=Array.prototype.slice.call(arguments);if(typeof e[0]!=="string"){if(Array.isArray(e[0])){return t.apply(this,e[0])}else{throw new Error("The input to tripledollar is not valid.")}}var r=e.shift(),i=r.split(/[\.#]/),n=r.split(/[^\.#]+/),a;if(n[0]!==""||i[0]===""){throw new Error("The identity paramameter didn't start with a tag name.")}i.forEach(function(e,t){if(t===0){a=document.createElement(e)}else{if(n[t]==="."){a.classList.add(e)}else if(n[t]==="#"){a.setAttribute("id",e)}}});function o(e){for(var r=0;r<e.length;r++){var i=e[r];if(i&&i.nodeType){a.appendChild(i)}else if(typeof i==="object"){if(Array.isArray(i)){a.appendChild(t.apply(this,i))}else{for(var n in i){if(n.match(/^data./)){var o=n.substr(4).toLowerCase();a.setAttribute("data-"+o,i[n])}else{a.setAttribute(n,i[n])}}}}else{a.appendChild(document.createTextNode(String(i)))}}}o(e);a.css=function(e){for(var t in e){this.style[t]=e[t]}return this};a.set=function(e,t){this[e]=t;return this};a.fun=function(e){var t=Array.prototype.slice.call(arguments,1);this[e].apply(this,t);return this};a.evt=function(e,t){if(arguments.length>2){var r=Array.prototype.slice.call(arguments,2);this.addEventListener(e,function(e){var i=[e].concat(r);t.apply(this,i)})}else{this.addEventListener(e,t)}return this};a.ins=function(){var e=Array.prototype.slice.call(arguments);o(e)};a.$=a.querySelectorAll;a.prototype=a;return a};t.version=e;t.structify=function(e){if(e.nodeType===1){function t(e){var r=[],i=e.localName,n=e.className.replace(" ",".");if(n){i+="."+n}if(e.id){i+="#"+e.id}r.push(i);if(e.hasAttributes()){var a=e.attributes,o={};for(var s=0;s<a.length;s++){if(!a[s].name.match(/id|class|contenteditable/)){o[a[s].name]=a[s].value}}if(Object.keys(o).length>0){r.push(o)}}e.normalize();var l=e.childNodes;for(var s=0;s<l.length;s++){if(l[s].nodeType===3){var c=l[s].data.replace(/\s\s*/," ");if(c.length>0){r.push(c)}}else if(l[s].nodeType===1){r.push(t(l[s]))}}return r}}var r=t(e);return r};t.appendToDoc=function(){var e=Array.prototype.slice.call(arguments);for(var r=0;r<e.length;r++){if(Array.isArray(e[r])){document.body.appendChild(t(e[r]))}else if(e[r]instanceof HTMLElement){document.body.appendChild(e[r])}else{throw Error("Undefined input to tripledollar.")}}};if(typeof define==="function"){define(function(e){return t})}else{window.$$$=t;window.tripledollar=t.appendToDoc}if(!window.$&&document.querySelectorAll){window.$=function(e){return document.querySelectorAll(e)}}})();